# default builder
docker run \
 --rm -w "/tmp" -v $(pwd):/tmp \
  --entrypoint "/bin/sh" -it \
   tykio/tyk-gateway:v3.1.2 \
  -c '/opt/tyk-gateway/tyk bundle build -y'

# modified for specific file names pattern.
docker run \
  --rm -w "/tmp" -v $(pwd):/tmp \
    --entrypoint "/bin/sh" -it \
      tykio/tyk-gateway:v3.1.2 \
    -c '/opt/tyk-gateway/tyk bundle build -y -m byu-token.json -o byu-token.zip'

# private key is in pem file already
# modified for specific file names pattern.
docker run \
  --rm -w "/tmp" -v $(pwd):/tmp \
    --entrypoint "/bin/sh" -it \
      tykio/tyk-gateway:v3.1.2 \
    -c '/opt/tyk-gateway/tyk bundle build -y -m api-custom-auth.json -o api-custom-auth.zip'


# builds the packages for the {bundle} see requirements.txt in same folder
 pip3 install -r requirements.txt -t ./vendor/lib/python3.7/site-packages/


# upload to the Cloud
# ./mservctl.macos.amd64 --config python.mservctl.yaml push bundle.zip
../../mservctl.macos.amd64 --config python.mservctl.yaml push byuToken.zip
../../mservctl.macos.amd64 --config python.mservctl.yaml push apiCustomAuth.zip

# list bundles in Server
../../mservctl.macos.amd64 --config python.mservctl.yaml list -f

# delete a bundle BEFORE uploading a new one



